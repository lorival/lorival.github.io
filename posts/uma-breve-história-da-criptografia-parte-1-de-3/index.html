<body class="body-blog-post">
    <!doctype html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Lorival Smolski Chapuis</title>
        <script data-ad-client="ca-pub-5019351576394165" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-60447750-1"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-60447750-1');
        </script>

        
        <script>
                (function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:1770825,hjsv:6};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
                })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
        </script>

        <script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=5e981c7368865d0012fff460&product=inline-share-buttons' async='async'></script>
        <script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=5e981c7368865d0012fff460&product=sticky-share-buttons&cms=sop' async='async'></script>
        <script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=5e981c7368865d0012fff460&product=inline-reaction-buttons&cms=sop' async='async'></script>
    <link rel="stylesheet" href="/css/bootstrap.css">
<link rel="stylesheet" href="/css/Pe-icon-7-stroke.css">
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/social-icons.css">
<link rel="stylesheet" href="/css/owl.carousel.css">
<link rel="stylesheet" href="/css/owl.theme.css">

<link rel="stylesheet" href="/css/main.css">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="/images/favicon-196x196.png" sizes="196x196">
<link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">

</head>
<body>

<header class="navbar-fixed-top">
    <div class="container">
        <div class="row">

            <div class="col-lg-12">
                <div class="header-top">
                    <div class="header-top-logo">
                        <a href="/" title="Full Stack Hacker"><img src="/images/home/logo.png" alt="Full Stack Hacker"></a>
                    </div>
                    <div class="header-top-text">
                        <p><span class="font-italic">“If knowledge can create problems, it is not through ignorance that we can solve them.”</span> Isaac Asimov</p>
                    </div>
                    <nav class="header-top-nav">
                        <ul>
                            
                            <li><a href="#" class="light-link" title="Menu">
                                <div id="menu-animate-icon" class="header-top-nav-menu-icon">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </a></li>
                        </ul>
                    </nav>
                </div>
            </div>

            <div class="col-lg-12">
                <nav class="header-nav">
                    <ul>
                         
 
    
        <li>
            <a href="/pt/" title="Início">
                <span>Início</span>
            </a>
        </li>
     
 
    
        <li class="dropdown">
            <a href="#" class="dropdown-toggle" title="Artigos">Artigos</a>
            <ul class="dropdown-menu">
                
    
         
    
         
    
         
    
        
            <li class="nav-elipse-green">
                <a href="/categories/security" title="Security">Security</a>
            </li>
         
    
         
    



            </ul>
        </li>
     
 
    
        <li>
            <a href="/inspirations/" title="Inspirações">
                <span>Inspirações</span>
            </a>
        </li>
     
 
    
        <li>
            <a href="/about/" title="Sobre mim">
                <span>Sobre mim</span>
            </a>
        </li>
     


<li style="float: right">
    
</li>
                    </ul>
                </nav>
            </div>
        </div>
  
    </div>
</header>

<nav class="mobile-nav header-nav">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                
            </div>
        </div>
    </div>
</nav>


    <div class="article-nav">
        <ul>
            <li>
                
                <a href="/posts/n%C3%BAmeros-aleat%C3%B3rios-gerados-por-computador-s%C3%A3o-mesmo-aleat%C3%B3rios/" title="Próximo" style="background-color: rgba(243, 243, 243, 0.95);">
                    <i class="pe-7s-angle-right"></i>
                    <div>
                        <p>Próximo</p>
                        <h3>Números aleatórios gerados por computador são mesmo aleatórios?</h3>
                    </div>
                </a>
                
            </li>
            <li>
                
                <a href="/posts/bem-vindo-ao-full-stack-hacker/" title="Anterior" style="background-color: rgba(243, 243, 243, 0.95);">
                    <i class="pe-7s-angle-left"></i>
                    <div>
                        <p>Anterior</p>
                        <h3>Bem-vindo ao Full Stack Hacker</h3>
                    </div>
                </a>
                
            </li>
        </ul>
    </div>

    <main>
        <div class="container">
            <section class="articles articles-blog-post">
                <article class="articles-blog-post">
                    <div class="">
                        <div class="row">
                            <div class="col-lg-12 col-xs-12">
                                
     

     

     

    
        <div style="height: 10px;" class="bkg-green"></div>
     

     

                                <div class="articles-header">
                                    <span><i class="pe-7s-clock" style="font-weight: bold"></i> Leia em 13 min &nbsp;</span>
                                    <span><i class="pe-7s-date" style="font-weight: bold"></i> 
    dez de 2017
</span>
                                    
                                    
     

     

     

        
        <span class="articles-header-category">
            <a href="/categories/security" class="green" title="Security">Security</a>
        </span>
     

     


                                </div>
                                <div class="articles-content" style="text-align: justify;">
                                    <img src="/posts/2017/12-a-brief-history-of-encryption-part-1-of-3.jpg" style="width: 100%;height: auto;">
                                    <div class="articles-header" style="margin: 0px;">
                                        
    <span class="articles-header-tag">
        <a href="/tags/algorithm">algorithm</a>
    </span>

    <span class="articles-header-tag">
        <a href="/tags/cypher">cypher</a>
    </span>

    <span class="articles-header-tag">
        <a href="/tags/cryptography">cryptography</a>
    </span>


                                    </div>
                                    <h1 class="articles-content-blog-post-title"><a href="/personas/" class="light-link">
    <img src="/images/persona/junior.png" title="junior" style="width: 50px; height:auto;">
</a>
 Uma breve história da criptografia - Parte 1 de 3</h1>
                                    <p><p>Atualmente, a história da criptografia é dividida em 3 fases, cada uma com uma determinada característica. Neste post vou explorar a primeira fase, alguns de seus algorítmos e como quebrá-los.</p>

<p>Antes de mais nada, apenas duas definições importantes precisam estar claras antes de continuar:</p>

<ol>
<li><p>Criptografia: é a junção da palavra grega κρυπτός (kriptós) que significa escondido/secreto com a palavra γράφειν (gráfein) que é a escrita, portanto originalmente a ideia é uma forma de escrita secreta.</p></li>

<li><p>Cifra: é um algoritmo usado para encriptar/criptografar ou decriptar/descriptografar, ou seja, tornar uma determinada escrita secreta ou revelar algo secreto.</p>

<p>Uma cifra depende de dois parâmetros:</p>

<ul>
<li>a mensagem que deseja ocultar ou revelar (claro);</li>
<li>uma chave que guarda (ou tenta guardar) o segredo;</li>
</ul></li>
</ol>

<h1 id="primeira-fase-criptografia-manual">Primeira fase: criptografia manual</h1>

<blockquote class="secondary-quote">
    <ul>
        <li>Início: antiguidade</li>
        <li>Fim: Primeira Guerra Mundial</li>
    </ul>
</blockquote>

<p>Romanos, espartanos, hebreus usaram técnicas de criptografia, existe até indícios que egípcios usaram algo próximo disso, mas todas elas tinham algo em comum: os algoritmos eram executados por uma pessoa (manualmente) sendo estes extremamente simples de serem quebrados do ponto de vista atual.</p>

<h2 id="cifra-de-substituição">Cifra de substituição</h2>

<p>Uma cifra bem conhecida é a Cifra de Substituição, usada pelos hebreus, cujo algoritmo consiste em substituir os caracteres da mensagem pelos caracteres da chave. Eu criei uma tabela aleatória como exemplo:</p>

<div>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">De</th>
                <th scope="col">Para</th>
                <th scope="col">De</th>
                <th scope="col">Para</th>
            </tr>
        </thead>
        <tbody>
            <tr><td scope="col">A</td><td scope="col">U</td><td scope="col">N</td><td scope="col">G</td></tr>
            <tr><td scope="col">B</td><td scope="col">I</td><td scope="col">O</td><td scope="col">H</td></tr>
            <tr><td scope="col">C</td><td scope="col">K</td><td scope="col">P</td><td scope="col">L</td></tr>
            <tr><td scope="col">D</td><td scope="col">M</td><td scope="col">Q</td><td scope="col">P</td></tr>
            <tr><td scope="col">E</td><td scope="col">Z</td><td scope="col">R</td><td scope="col">Q</td></tr>
            <tr><td scope="col">F</td><td scope="col">B</td><td scope="col">S</td><td scope="col">W</td></tr>
            <tr><td scope="col">G</td><td scope="col">A</td><td scope="col">T</td><td scope="col">E</td></tr>
            <tr><td scope="col">H</td><td scope="col">C</td><td scope="col">U</td><td scope="col">O</td></tr>
            <tr><td scope="col">I</td><td scope="col">X</td><td scope="col">V</td><td scope="col">Y</td></tr>
            <tr><td scope="col">J</td><td scope="col">R</td><td scope="col">W</td><td scope="col">S</td></tr>
            <tr><td scope="col">K</td><td scope="col">F</td><td scope="col">X</td><td scope="col">N</td></tr>
            <tr><td scope="col">L</td><td scope="col">Y</td><td scope="col">Y</td><td scope="col">V</td></tr>
            <tr><td scope="col">M</td><td scope="col">D</td><td scope="col">Z</td><td scope="col">T</td></tr>
        </tbody>
    </table>
</div>

<p>Esta tabela é apenas demonstrativa, como o alfabeto é fixo, a chave é apenas a coluna &ldquo;Para&rdquo;, portanto nossa chave é a seguinte: <strong>UIKMZBACXRFYDGHLPQWEOJSNVT</strong>.</p>

<p>Para exemplificar vou utilizar uma frase do mestre Yoda:
<blockquote class="secondary-quote">
&ldquo;Pass on what you have learned. Strength. Mastery. But weakness, folly, failure also. Yes, failure most of all. The greatest teacher, failure is.&rdquo;
</blockquote></p>

<p>Tradução em português:
<blockquote class="secondary-quote">
&ldquo;Passe adiante o que você aprendeu. Força. Mastria. Mas fraqueza, insensatez e fracasso também. Sim, fracasso acima de tudo. O maior professor, o fracasso é.&rdquo;
</blockquote></p>

<p>Vou usar a chave acima e substituir cada letra usando a tradução em português, portanto teremos a seguinte mensagem criptografada:
<blockquote class="secondary-quote">
LUWWZ UMXUGEZ H POZ JHKZ ULQZGMZO. BHQKU. DUWEQXU. DUW BQUPOZTU, XGWZGWUEZT Z BQUKUWWH EUDIZD. WXD, BQUKUWWH UKXDU MZ EOMH. H DUXHQ LQHBZWWHQ, H BQUKUWWH Z
</blockquote></p>

<p>É claro que eu não criptografei manualmente, eu usei o site <a href="https://www.dcode.fr/monoalphabetic-substitution">dcode.fr</a>, coloquei a mensagem e a chave, com isto ele substituiu os caracteres e gerou a mensagem criptografada.</p>

<h3 id="decriptando-a-mensagem-sem-a-chave-quebrando-o-algoritmo">Decriptando a mensagem sem a chave (quebrando o algoritmo)</h3>

<p>Para descobrir o que está nesta mensagem sem saber a chave, temos que saber a frequência de letras e palavras. Eu pensei em pegar vários livros em domínio público em português e verificar isto, mas encontrei <a href="/posts/2017/12-analise-frequencia-lingua-portuguesa.pdf">um excelente artigo do Pedro Quaresma e Augusto Pinho do Departamento de Matemática da Universidade de Coimbra</a> que fizeram justamente este trabalho, então vou usar o artigo deles como base.</p>

<p>No português temos as seguintes frequências mais comuns, da maior para a menor:</p>

<ul>
<li>letras individuais/isoladas: a, e, o, s, r, i , d, n, m, u, t, c&hellip;</li>
<li>bigramas/diagramas (duas letras seguidas): de, ra, os, es, as, do&hellip;</li>
<li>trigramas (três letras seguidas): que, ent, nte, com, ado, est&hellip;</li>
<li>palavras curtas com 2 letras: de, um, do, da, os, as&hellip;</li>
<li>palavras curtas com 3 letras: que, com, uma, não, por, dos, sua, das&hellip;</li>
<li>letras isoladas que iniciam palavras: d, c, p, a, s, e, m&hellip;</li>
<li>letras isoladas que terminam palavras: a, o, s, e, m, r&hellip;</li>
</ul>

<p>No artigo faltou um item importante que é:</p>

<ul>
<li>letras iguais seguidas: ss, rr</li>
</ul>

<p>É claro que isto varia para cada idioma e também por autor, portanto para ter o valor desta frequência é necessário avaliar vários textos de diferentes autores do mesmo idioma e contar qual a frequência de cada item acima citado. Supondo que não soubessemos qual o idioma original da mensagem, teríamos que obter estas informações de cada idioma ou dos idiomas mais comuns e fazer o processo de decriptografia para cada idioma.</p>

<p>Vamos começar a decriptografia, começando por passos técnicos e concluíndo com aproximação:</p>

<h4 id="passo-1-identificar-a-letra-que-mais-se-repete-na-mensagem-e-substituir-pela-letra-a-que-tecnicamente-é-a-letra-individual-mais-frequente">Passo 1: Identificar a letra que mais se repete na mensagem e substituir pela letra &ldquo;a&rdquo; que tecnicamente é a letra individual mais frequente</h4>

<blockquote class="secondary-quote">
L<span style="color: green; font-weight: bold;">a</span>WWZ <span style="color: green; font-weight: bold;">a</span>MX<span style="color: green; font-weight: bold;">a</span>GEZ H POZ JHKZ <span style="color: green; font-weight: bold;">a</span>LQZGMZO. BHQK<span style="color: green; font-weight: bold;">a</span>. D<span style="color: green; font-weight: bold;">a</span>WEQX<span style="color: green; font-weight: bold;">a</span>. D<span style="color: green; font-weight: bold;">a</span>W BQ<span style="color: green; font-weight: bold;">a</span>POZT<span style="color: green; font-weight: bold;">a</span>, XGWZGW<span style="color: green; font-weight: bold;">a</span>EZT Z BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">a</span>WWH E<span style="color: green; font-weight: bold;">a</span>DIZD. WXD, BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">a</span>WWH <span style="color: green; font-weight: bold;">a</span>KXD<span style="color: green; font-weight: bold;">a</span> MZ EOMH. H D<span style="color: green; font-weight: bold;">a</span>XHQ LQHBZWWHQ, H BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">a</span>WWH Z
</blockquote>

<ul>
<li>Letra &ldquo;U&rdquo; substituida pela letra &ldquo;a&rdquo;</li>
</ul>

<h4 id="passo-2-indentificar-as-duas-letras-iguais-que-mais-se-repetem-e-substituir-pelas-letras-ss-que-tecnicamente-são-as-letras-seguidas-com-mais-frequência">Passo 2: Indentificar as duas letras iguais que mais se repetem e substituir pelas letras &ldquo;ss&rdquo; que tecnicamente são as letras seguidas com mais frequência</h4>

<blockquote class="secondary-quote">
L<span style="color: green; font-weight: bold;">ass</span>Z <span style="color: green; font-weight: bold;">a</span>MX<span style="color: green; font-weight: bold;">a</span>GEZ H POZ JHKZ <span style="color: green; font-weight: bold;">a</span>LQZGMZO. BHQK<span style="color: green; font-weight: bold;">a</span>. D<span style="color: green; font-weight: bold;">a</span>WEQX<span style="color: green; font-weight: bold;">a</span>. D<span style="color: green; font-weight: bold;">a</span>W BQ<span style="color: green; font-weight: bold;">a</span>POZT<span style="color: green; font-weight: bold;">a</span>, XGWZGW<span style="color: green; font-weight: bold;">a</span>EZT Z BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">a</span>ssH E<span style="color: green; font-weight: bold;">a</span>DIZD. WXD, BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">ass</span>H <span style="color: green; font-weight: bold;">a</span>KXD<span style="color: green; font-weight: bold;">a</span> MZ EOMH. H D<span style="color: green; font-weight: bold;">a</span>XHQ LQHBZ<span style="color: green; font-weight: bold;">ss</span>HQ, H BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">ass</span>H Z
</blockquote>

<ul>
<li>Letras &ldquo;WW&rdquo; substituídas pelas letras &ldquo;ss&rdquo;</li>
</ul>

<h4 id="passo-3-identificar-a-segunda-e-terceira-letra-individual-mais-frequente-e-substituir-pelas-letras-e-e-o-para-ajudar-nisto-basta-ver-que-a-segunda-letra-mais-comum-que-terminam-as-palavras-é-a-letra-o">Passo 3: Identificar a segunda e terceira letra individual mais frequente e substituir pelas letras &ldquo;e&rdquo; e &ldquo;o&rdquo;, para ajudar nisto basta ver que a segunda letra mais comum que terminam as palavras é a letra &ldquo;o&rdquo;.</h4>

<blockquote class="secondary-quote">
L<span style="color: green; font-weight: bold;">asse ad</span>X<span style="color: green; font-weight: bold;">a</span>GE<span style="color: green; font-weight: bold;">e o </span>PO<span style="color: green; font-weight: bold;">e</span> J<span style="color: green; font-weight: bold;">o</span>K<span style="color: green; font-weight: bold;">e</span> <span style="color: green; font-weight: bold;">a</span>LQ<span style="color: green; font-weight: bold;">e</span>G<span style="color: green; font-weight: bold;">de</span>O. B<span style="color: green; font-weight: bold;">o</span>QK<span style="color: green; font-weight: bold;">a</span>. D<span style="color: green; font-weight: bold;">a</span>WEQX<span style="color: green; font-weight: bold;">a</span>. D<span style="color: green; font-weight: bold;">a</span>W BQ<span style="color: green; font-weight: bold;">a</span>PO<span style="color: green; font-weight: bold;">e</span>T<span style="color: green; font-weight: bold;">a</span>, XGW<span style="color: green; font-weight: bold;">e</span>GW<span style="color: green; font-weight: bold;">a</span>E<span style="color: green; font-weight: bold;">e</span>T <span style="color: green; font-weight: bold;">e</span> BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">a</span>sso E<span style="color: green; font-weight: bold;">a</span>DI<span style="color: green; font-weight: bold;">e</span>D. WXD, BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">asso a</span>KXD<span style="color: green; font-weight: bold;">a de</span> EO<span style="color: green; font-weight: bold;">do. o</span> D<span style="color: green; font-weight: bold;">a</span>X<span style="color: green; font-weight: bold;">o</span>Q LQ<span style="color: green; font-weight: bold;">o</span>B<span style="color: green; font-weight: bold;">esso</span>Q, <span style="color: green; font-weight: bold;">o</span> BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">asso e</span>
</blockquote>

<ul>
<li>Das 12 palavras com a letra &ldquo;Z&rdquo;, quatro terminam com ela, duas estão individuais e uma delas possui duas letras (MZ), ou seja, um bigrama.</li>
<li>Das 10 palavras com a letra &ldquo;H&rdquo;, três terminam com ela e 3 estão individuais<br /></li>
<li>Como o bigrama mais comum é &ldquo;de&rdquo;, a palavra curta mais comum é &ldquo;de&rdquo; e a segunda letra mais comum é a letra &ldquo;e&rdquo;, portanto a letra &ldquo;Z&rdquo; é na verdade a letra &ldquo;e&rdquo; e a &ldquo;H&rdquo; é a letra &ldquo;o&rdquo;</li>
<li>Se o &ldquo;MZ&rdquo; significa &ldquo;de&rdquo;, então o &ldquo;M&rdquo; significa a letra &ldquo;d&rdquo;</li>
</ul>

<h4 id="passo-4-identificar-as-palavras-com-duas-ou-três-letras-mais-frequentes-e-substituir">Passo 4: Identificar as palavras com duas ou três letras mais frequentes e substituir</h4>

<blockquote class="secondary-quote">
L<span style="color: green; font-weight: bold;">asse ad</span>X<span style="color: green; font-weight: bold;">a</span>GE<span style="color: green; font-weight: bold;">e o que</span> J<span style="color: green; font-weight: bold;">o</span>K<span style="color: green; font-weight: bold;">e</span> <span style="color: green; font-weight: bold;">a</span>LQ<span style="color: green; font-weight: bold;">e</span>G<span style="color: green; font-weight: bold;">deu.</span> B<span style="color: green; font-weight: bold;">o</span>QK<span style="color: green; font-weight: bold;">a</span>. D<span style="color: green; font-weight: bold;">a</span>WEQX<span style="color: green; font-weight: bold;">a</span>. D<span style="color: green; font-weight: bold;">a</span>W BQ<span style="color: green; font-weight: bold;">aq</span>O<span style="color: green; font-weight: bold;">e</span>T<span style="color: green; font-weight: bold;">a</span>, XGW<span style="color: green; font-weight: bold;">e</span>GW<span style="color: green; font-weight: bold;">a</span>E<span style="color: green; font-weight: bold;">e</span>T <span style="color: green; font-weight: bold;">e</span> BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">a</span>sso E<span style="color: green; font-weight: bold;">a</span>DI<span style="color: green; font-weight: bold;">e</span>D. WXD, BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">asso a</span>KXD<span style="color: green; font-weight: bold;">a de</span> E<span style="color: green; font-weight: bold;">udo. o</span> D<span style="color: green; font-weight: bold;">a</span>X<span style="color: green; font-weight: bold;">o</span>Q LQ<span style="color: green; font-weight: bold;">o</span>B<span style="color: green; font-weight: bold;">esso</span>Q, <span style="color: green; font-weight: bold;">o</span> BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">asso e</span>
</blockquote>

<ul>
<li>A palavra curta com 3 letras mais comum é &ldquo;que&rdquo;, já temos a palavra &ldquo;POe&rdquo; que termina com &ldquo;e&rdquo;, logo ela deve ser a palavra &ldquo;que&rdquo; e com isto descobrimos que o &ldquo;P&rdquo; é a letra &ldquo;q&rdquo; e a letra &ldquo;O&rdquo; é a letra &ldquo;u&rdquo;</li>
</ul>

<h4 id="passo-5-identificar-a-quarta-letra-individual-mais-frequente-e-substituir-pela-letra-s">Passo 5: Identificar a quarta letra individual mais frequente e substituir pela letra &ldquo;s&rdquo;</h4>

<blockquote class="secondary-quote">
L<span style="color: green; font-weight: bold;">asse adia</span>GE<span style="color: green; font-weight: bold;">e o que</span> J<span style="color: green; font-weight: bold;">o</span>K<span style="color: green; font-weight: bold;">e</span> <span style="color: green; font-weight: bold;">a</span>LQ<span style="color: green; font-weight: bold;">e</span>G<span style="color: green; font-weight: bold;">deu.</span> B<span style="color: green; font-weight: bold;">o</span>QK<span style="color: green; font-weight: bold;">a. mas</span>EQ<span style="color: green; font-weight: bold;">ia. mas</span> BQ<span style="color: green; font-weight: bold;">aq</span>O<span style="color: green; font-weight: bold;">e</span>T<span style="color: green; font-weight: bold;">a, i</span>G<span style="color: green; font-weight: bold;">se</span>G<span style="color: green; font-weight: bold;">sa</span>E<span style="color: green; font-weight: bold;">e</span>T <span style="color: green; font-weight: bold;">e</span> BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">a</span>sso E<span style="color: green; font-weight: bold;">am</span>I<span style="color: green; font-weight: bold;">em. Sim,</span> BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">asso a</span>K<span style="color: green; font-weight: bold;">ima de</span> E<span style="color: green; font-weight: bold;">udo. o maio</span>Q LQ<span style="color: green; font-weight: bold;">o</span>B<span style="color: green; font-weight: bold;">esso</span>Q, <span style="color: green; font-weight: bold;">o</span> BQ<span style="color: green; font-weight: bold;">a</span>K<span style="color: green; font-weight: bold;">asso e</span>
</blockquote>

<ul>
<li>A letra &ldquo;W&rdquo; é a mais frequente, portanto virou o &ldquo;s&rdquo;</li>
<li>Com isto identificamos mais uma palavra com 3 letras que falta apenas uma letra para completar &ldquo;Das&rdquo;, podemos presumir que o &ldquo;D&rdquo; é a letra &ldquo;m&rdquo; formando a palavra &ldquo;mas&rdquo;</li>
<li>Após identificamos outra palavra com 3 letras que falta apenas uma letra para completar &ldquo;sXm&rdquo;, podemos presumir que o &ldquo;X&rdquo; é o &ldquo;i&rdquo;, pois o &ldquo;a&rdquo; já foi relevado.</li>
</ul>

<h4 id="passo-6-identificar-outras-palavras-por-aproximação">Passo 6: Identificar outras palavras por aproximação</h4>

<blockquote class="secondary-quote">
<span style="color: green; font-weight: bold;">Passe adia</span>G<span style="color: green; font-weight: bold;">te o que voce</span> <span style="color: green; font-weight: bold;">ap</span>Q<span style="color: green; font-weight: bold;">e</span>G<span style="color: green; font-weight: bold;">deu.</span> B<span style="color: green; font-weight: bold;">o</span>Q<span style="color: green; font-weight: bold;">ca. mast</span>Q<span style="color: green; font-weight: bold;">ia. mas</span> BQ<span style="color: green; font-weight: bold;">aq</span>O<span style="color: green; font-weight: bold;">e</span>T<span style="color: green; font-weight: bold;">a, i</span>G<span style="color: green; font-weight: bold;">se</span>G<span style="color: green; font-weight: bold;">sate</span>T <span style="color: green; font-weight: bold;">e</span> BQ<span style="color: green; font-weight: bold;">acasso tam</span>I<span style="color: green; font-weight: bold;">em. Sim,</span> BQ<span style="color: green; font-weight: bold;">acasso acima de tudo. o maio</span>Q <span style="color: green; font-weight: bold;">P</span>Q<span style="color: green; font-weight: bold;">o</span>B<span style="color: green; font-weight: bold;">esso</span>Q, <span style="color: green; font-weight: bold;">o</span> BQ<span style="color: green; font-weight: bold;">acasso e</span>
</blockquote>

<ul>
<li>Lasse = Passe, pois &ldquo;P&rdquo; é uma letra comum de iniciar palavras, logo já sabemos mais uma letra, o &ldquo;p&rdquo;</li>
<li>aKima = acima, logo já sabemos mais uma letra, o &ldquo;c&rdquo;</li>
<li>Joce = Você, logo já sabemos mais uma letra, o &ldquo;v&rdquo;</li>
<li>Eudo = Tudo, logo já sabemos mais uma letra, a &ldquo;T&rdquo;</li>
</ul>

<h4 id="passo-7-identificar-mais-palavras-por-aproximação">Passo 7: Identificar mais palavras por aproximação</h4>

<blockquote class="secondary-quote">
<span style="color: green; font-weight: bold;">Passe adiante o que voce aprendeu. forca. mastria. mas fraq</span>O<span style="color: green; font-weight: bold;">e</span>T<span style="color: green; font-weight: bold;">a, insensate</span>T <span style="color: green; font-weight: bold;">e fracasso tambem. sim, fracasso acima de tudo. o maior Professor, o fracasso e
</blockquote>

<ul>
<li>tamIem = também, já sabemos mais uma letra, o &ldquo;b&rdquo;</li>
<li>maioQ = maior, já sabemos mais uma letra, o &ldquo;r&rdquo;</li>
<li>ProBessor = Professor, já sabemos mais uma letra, o &ldquo;f&rdquo;</li>
<li>apreGdeu = aprendeu, já sabemos mais uma letra, o &ldquo;n&rdquo;</li>
</ul>

<p>Já é possível saber o resultado final da mensagem sem precisar concluir o exercício. Aqui eu fiz manualmente porque eu gostaria de aprender como realmente funciona, mas durante o processo eu descobri um site que faz exatamente isto: verifica a frequência das palavras para diversos idiomas e tenta decriptar sem a chave, inclusive para o idioma português.</p>

<p>O site é <a href="https://www.guballa.de/substitution-solver">guballa.de</a>, eu colei a mensagem criptografada sem a chave e o resultado foi bem próximo do original, veja:</p>

<blockquote class="secondary-quote">
GASSE ADIANTE O QUE VOCE AGRENDEU. PORCA. MASTRIA. MAS PRAQUELA, INSENSATEL E PRACASSO TAMBEM. SIM, PRACASSO ACIMA DE TUDO. O MAIOR GROPESSOR, O PRACASSO E
</blockquote>

<p>Não ficou exatamente perfeito, mas sem trabalho nenhum foi possível saber o conteúdo da mensagem.</p>

<p>Uma boa pergunta é qual o tamanho usado para armazenar todas as possibilidades de chaves possíveis? Bom, se assumirmos 26 letras, temos o fatorial de 26 que representa 2 elevado na 88, ou seja, 88 bits. Então cada chave é representada por 88 bits. Este é até um tamanho adequado para chaves, mas ainda assim insegura como pudemos perceber.</p>

<h2 id="cifra-de-césar">Cifra de César</h2>

<p>Uma cifra conhecida deste período é a romana chamada de Cifra de César, que na verdade nem é uma cifra pois não possui técnicamente uma chave.</p>

<p>Basicamente, assim como o algoritmo de substituição, o que esta cifra faz é substituir as letras da mensagem mas como não tem uma chave faz isto substituíndo uma letra por outra com um intervalo de distância fixo.</p>

<p>Para exemplificar vamos usar a palavra &ldquo;batata&rdquo; e um intervalo de duas posições. Duas letras depois da &ldquo;b&rdquo; é a letra &ldquo;d&rdquo;, duas letras depois da letra &ldquo;a&rdquo; é a letra &ldquo;c&rdquo; e duas letras depois da letra &ldquo;t&rdquo; é a letra &ldquo;v&rdquo;, portanto a palavra &ldquo;batata&rdquo; ficaria &ldquo;dcvcvc&rdquo;, simples não?</p>

<p>Perceba que o intervalo de posições é o mesmo para todas as letras, portanto basta usar a técnica de frequência de letras como no algoritmo anterior, porém basta descobrir a primeira letra que você já consegue decriptar toda mensagem, é ainda mais simples que o algoritmo de substituição.</p>

<p>Algo simples de se pensar é que poderia dizer que o intervalo de posições seria a chave desta cifra, pois ele é usado para encriptar e decriptar, mas tem 2 pontos:
- Primeiro que este intervalo fica dentro do algoritmo ao invés de estar externo como uma chave precisa ser,
- Segundo que é apenas uma posição, é como ter uma chave que nem possui um dentinho, basta colocar um graveto que o cadeado abre.</p>

<p>Portanto técnicamente, embora seja chamado de cifra de César, este famoso algoritmo não é uma cifra e é usado apenas para ilustrar um processo de criptografia. Podes brincar com este algoritmo usando o <a href="https://rot13.com/">RT13</a>.</p>

<h2 id="cifra-de-vigenère">Cifra de Vigenère</h2>

<p>Agora vamos para a renascença, esta cifra é basicamente uma variação da cifra de César, mas agora temos uma chave. Você escolhe uma palavra ou frase qualquer como chave, por exemplo &ldquo;batata&rdquo;, depois disto repete a palavra batata sobre a frase que queira encriptar, exemplo:</p>

<div>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">B</th>
                <th scope="col">A</th>
                <th scope="col">T</th>
                <th scope="col">A</th>
                <th scope="col">T</th>
                <th scope="col">A</th>
                <th scope="col">B</th>
            </tr>
        </thead>
        <tbody>
            <tr><td scope="col">L</td><td scope="col">O</td><td scope="col">R</td><td scope="col">I</td><td scope="col">V</td><td scope="col">A</td><td scope="col">L</td></tr>
        </tbody>
    </table>
</div>

<p>Agora para gerar o texto encriptado você tem duas possibilidades:</p>

<p><strong>Primeira possibilidade</strong>: podes usar a tabela de Vigenère, pegar a letra &ldquo;B&rdquo; da batata em um eixo e a palavra &ldquo;L&rdquo; de lorival em outro, a letra que ficar no encontro delas é a criptografada, neste caso é a letra &ldquo;M&rdquo;. Veja a tabela abaixo:</p>

<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Vigen%C3%A8re_square_shading.svg" width="100%"/> 
</figure>


<p><strong>Segunda possibilidade</strong>: Podes usar um algoritmo bem simples, cada letra equivale a um número crescente começando em zero, 0=A, 1=B, 2=C, etc&hellip; agora basta somar os números de cada letra e descobrir a terceira. Vamos usar o mesmo exemplo: a letra &ldquo;B&rdquo; é o número 1, a letra &ldquo;L&rdquo; é o número 11, a soma de 11 + 1 = 12 e o número 12 equivale a letra &ldquo;M&rdquo;, pronto, já temos a letra criptografada, agora basta fazer com as demais, vejamos o resultado:</p>

<div>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">B</th>
                <th scope="col">A</th>
                <th scope="col">T</th>
                <th scope="col">A</th>
                <th scope="col">T</th>
                <th scope="col">A</th>
                <th scope="col">B</th>
                <th scope="col">A</th>
                <th scope="col">T</th>
                <th scope="col">A</th>
                <th scope="col">T</th>
                <th scope="col">A</th>
                <th scope="col">B</th>
                <th scope="col">A</th>
            </tr>
        </thead>
        <tbody>
            <tr><td scope="col">L</td><td scope="col">O</td><td scope="col">R</td><td scope="col">I</td><td scope="col">V</td><td scope="col">A</td><td scope="col">L</td><td scope="col">C</td><td scope="col">H</td><td scope="col">A</td><td scope="col">P</td><td scope="col">U</td><td scope="col">I</td><td scope="col">S</td></tr>
        </tbody>
        <tbody>
            <tr><td scope="col">M</td><td scope="col">O</td><td scope="col">K</td><td scope="col">I</td><td scope="col">O</td><td scope="col">A</td><td scope="col">M</td><td scope="col">C</td><td scope="col">A</td><td scope="col">A</td><td scope="col">I</td><td scope="col">U</td><td scope="col">J</td><td scope="col">S</td></tr>
        </tbody>
    </table>
</div>

<p>Ah! Mas se a soma ficar maior que 26? Simples, volta a ser 0, isto é chamado de <a href="https://pt.wikipedia.org/wiki/Aritm%C3%A9tica_modular">aritimética modular</a>, você efetua a soma mas possui um valor limite que a partir dele começa a contar do início novamente. O exemplo mais simples é do relógio analógico (12h), se você somar 10h com 4h, vai chegar a 2h, pois ao chegar ao número 12 você volta a contar 1h. A notação para isto é <em>mod 12</em>, mod significa aritimética modular e 12 é a limítrofe :)</p>

<p>Para decriptar utilizando a chave é simples, desde que você saiba a chave podes simplesmente fazer o caminho inverso e chegar a palavra &ldquo;Lorival&rdquo; novamente. Podes usar o site <a href="https://cryptii.com/pipes/vigenere-cipher">cryptii.com</a> para encriptar ou decriptar.</p>

<h3 id="decriptando-a-mensagem-sem-a-chave-quebrando-o-algoritmo-1">Decriptando a mensagem sem a chave (quebrando o algoritmo)</h3>

<p>Primeiro temos que deduzir qual o tamanho da chave, vamos começar supondo que tenha 6 letras e fazer todo processo descrito a seguir, se não for com 6 letras, então teremos que fazer com diversos outros tamanhos até encontrar o conteúdo decriptado, é claro que com um simples algoritmo programado conseguimos quebrar muito rapidamente. Mas o objetivo é entender o processo, então vamos a ele.</p>

<p>Bom, dividimos a frase encriptada em grupos de 6 e verificamos a primeira letra encriptada de cada grupo, em nosso exemplo é a letra &ldquo;M&rdquo;.
O que sabemos desta letra? Sabemos que todas elas estão encriptadas usando exatamente a mesma letra da chave, neste caso a letra &ldquo;B&rdquo;.
Vejamos em nosso exemplo, as letras &ldquo;M&rdquo;, &ldquo;M&rdquo;, &ldquo;J&rdquo; são apenas deslocamento da mesma letra, que é a letra &ldquo;B&rdquo;.</p>

<p>A letra mais comum em português é a letra &ldquo;A&rdquo;, logo se colocarmos todas as letras juntas, a letra que mais se repetir provavelmente vai ser a letra &ldquo;A&rdquo;, em nosso caso isto não vai funcionar pois são apenas 3 letras, mas se fossem 20 ou mais letras seria mais fácil identificar isto. Vamos supor que a letra que mais se repete está encriptado como a letra &ldquo;C&rdquo;, se &ldquo;C&rdquo; equivale ao número 2 e nós imaginamos que ela seja a letra &ldquo;A&rdquo; que equivale ao 0, logo 2 - 0 é igual ao próprio 2, ou seja, é a própria letra &ldquo;C&rdquo; originalmente.</p>

<p>Em nosso exemplo vemos que o &ldquo;A&rdquo; equivale ao próprio &ldquo;A&rdquo;, isto é muito mais fácil e português, porque ele o &ldquo;A&rdquo; é equivalente ao zero, logo toda letra que mais se repetir é equivalente a própria letra em português, simples demais. Em inglês a letra mais comum é a letra &ldquo;E&rdquo;, portanto se a letra encriptada fosse a letra &ldquo;G&rdquo;, logo &ldquo;G&rdquo; - &ldquo;E&rdquo; (6 - 4) = &ldquo;C&rdquo; (2).</p>

<p>Bom, uma vez descoberta a primeira letra, o processo é repetido para a segunda letra do grupo, ou seja, agrupamos todas as segundas letras, supomos que esta seja a letra &ldquo;A&rdquo; em português ou &ldquo;E&rdquo; em inglês e fazemos a decriptografia dela e assim por diante para cada letra até obter a chave completa.</p>

<p>Podemos perceber que mesmo sendo simples de recuperar a chave, a cifra de Vigenère é uma cifra interessante pois utiliza a cifra de César para cada letra, dificultando bastante o processo comparado com a cifra de César original.</p>

<p>O mesmo site alemão que quebrou corretamente o algoritmo de substituição também tem uma versão para <a href="https://www.guballa.de/vigenere-solver">quebrar a cifra de Vigenère</a>, só não quebrou este meu exemplo aqui porque é muito curto, mas eu fiz um teste com uma frase possuindo 100 letras e quebrou perfeitamente. Neste algoritmo você pode dizer qual o tamanho estimado da chave, pode ser entre 3 e 30 por exemplo, e o algoritmo vai fazer todas as tentativas até encontrar.</p>

<p>O mais legal deste site <a href="https://www.guballa.de">guballa</a> é que mesmo o site sendo alemão ele tem opção de quebrar os algoritmos em português :)</p>

<p>Eu gostei bastante de fazer este post, a próxima parte vai ser saindo da renascença direto para o século XIX para entender as máquinas de rotor e a mais famosa delas, a máquina Enigma.</p>

<hr />

<h3 id="links-para-guardar">Links para guardar</h3>

<ul>
<li><a href="https://cryptii.com/">Encriptar e decriptar os algoritmos citados usando chaves e mais outras funções interessantes</a></li>
<li><a href="https://www.guballa.de/substitution-solver">Decriptar o algoritmo de substituição sem chave</a></li>
<li><a href="https://www.guballa.de/vigenere-solver">Decriptar o algoritmo de Vigenère sem chave</a></li>
<li><a href="/posts/2017/12-analise-frequencia-lingua-portuguesa.pdf">Artigo sobre frequência de letras da lígua Portuguesa</a></li>
</ul></p>
                                    <div>
                                        <hr>
                                        <span><i class="pe-7s-date" style="font-weight: bold"></i> Atualizado em 
    out de 2020
</span>
                                    </div>
                                </div>
                                
                                <div class="sharethis-inline-reaction-buttons"></div>
                            </div>
                        </div>
                    </div>
                </article>
            </section>
        </div>

        <div class="articles-info">
            <section class="articles-info-section">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12 col-xs-12">
                            <div class="articles-author">
    <img src="/images/about/avatar.png" class="rounded-circle" alt="Lorival S. Chapuis" data-rjs="2">
    <div class="articles-author-right" style="margin: 0px 0 0 100px;">
        Escrito por:
        <h4>Lorival S. Chapuis</h4>
        
        <p>Engenheiro de software focado em escalabilidade, gamer nas horas de folga, entusiasta em inteligência computacional e apaixonado pela minha família e por desenvolvimento de software.</p>
    </div>
</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <div class="container">
            <div class="row" style="margin-top: 20px;">
                <div class="col-lg-12 col-xs-12">
                    <div id="disqus_thread"></div>
                </div>
            </div>
        </div>
    </main>
</body>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <div class="copyright" style="text-align: center;">
                    <p class="font-primary" style="float: none;">
                        Made and hosted with <i class="fa fa-heart" style="color: #e25555;;"></i> using
                        <a href="https://gohugo.io/" target="_BLANK" class="black">Hugo</a> and <a href="https://pages.github.com/" target="_BLANK" class="black">Github Pages</a>. &copy; 2017-2020</p>
                </div>
            </div>
        </div>
    </div>
</footer>


<script type="text/javascript" src="/js/jquery-1.12.0.min.js"></script>
<script type="text/javascript" src="/js/tether.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/retina.min.js"></script>
<script type="text/javascript" src="/js/owl.carousel.min.js"></script>
<script type="text/javascript" src="/js/webfont.js"></script>


<script type="text/javascript" src="/js/scripts.js"></script>





<script>
    if (window.location.host.indexOf('loriv.al') > -1 && window.location.protocol != "https:"){
        window.location.protocol = "https";
    }
</script>

</body>

</html>